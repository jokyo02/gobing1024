var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},SydneyFullScreenConv;(function(n){function eu(f){var e,v,w,b,d,tt,it,st,ht,ct,wt,bt,gt,ri,si,hi,yi,bi,ki,di,fr,fu,eu,su,cu,au,vu,yu,pu,wu,bu,ku,du,gu,nf,tf,rf,uf,ff,lf,af,yf,wf,bf,kf,df,gf,ne,te,ie,re,ce,le,ve,ye,be,ke,de,ge,no,to,io,ro,uo,fo,eo,oo,so,ho,co,lo,ao,vo,yo,po,wo,bo,ko,go,ns,ts;return f===void 0&&(f=null),__awaiter(this,void 0,void 0,function(){var ps,ws,bs,vh,yh,ss,ks,ds,gs,nh,th,ih,rh,uh,es,os,hs,fh,eh,oh,sh,hh,ch,cs,lh,ls,as,is,us,rs,vs,ys,fs,ah;return __generator(this,function(ph){switch(ph.label){case 0:return(i=_ge(ci),i.querySelector("cib-serp"))?[2]:(li=SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.usePill,!0),lt=SydFSCHelper.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableScrollOut,!0),u=SydFSCHelper.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enablePanelTransition,!1,!1),ai=SydFSCHelper.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableSydContext,!0),c=SydFSCHelper.getConfigOrDefault((d=_w._sydConvConfig)===null||d===void 0?void 0:d.convBackBtn,!1),at=SydFSCHelper.getConfigOrDefault((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableSetConvQueryFlag,!0),ef=SydFSCHelper.getConfigOrDefault((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableSydTigerAns,!0),gi=SydFSCHelper.getConfigOrDefault((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableSydAjax,!1),dt=SydFSCHelper.getConfigOrDefault((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enableSydCarousel,!1),n.moveOnlySydXAnswers=SydFSCHelper.getConfigOrDefault((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.moveOnlySydXAnswers,!0),l=SydFSCHelper.getConfigOrDefault((wt=_w._sydConvConfig)===null||wt===void 0?void 0:wt.hideSydFSC,!1),a=SydFSCHelper.getConfigOrDefault((bt=_w._sydConvConfig)===null||bt===void 0?void 0:bt.enableSydOverlay,!1),vi=SydFSCHelper.getConfigOrDefault((gt=_w._sydConvConfig)===null||gt===void 0?void 0:gt.enable1TCibSlot,!1),rt=SydFSCHelper.getConfigOrDefault((ri=_w._sydConvConfig)===null||ri===void 0?void 0:ri.enableSydX1T,!0),tr=SydFSCHelper.getConfigOrDefault((si=_w._sydConvConfig)===null||si===void 0?void 0:si.hideSydMic,!1),ir=SydFSCHelper.getConfigOrDefault((hi=_w._sydConvConfig)===null||hi===void 0?void 0:hi.fromNoResults,!1),lr=SydFSCHelper.getConfigOrDefault((yi=_w._sydConvConfig)===null||yi===void 0?void 0:yi.codexWinEnableCustomGreeting,!1),ar=SydFSCHelper.getConfigOrDefault((bi=_w._sydConvConfig)===null||bi===void 0?void 0:bi.codexWinGreetingCustomString,""),er=SydFSCHelper.getConfigOrDefault((ki=_w._sydConvConfig)===null||ki===void 0?void 0:ki.checkCreatorAnsFor1T,!0),rr=SydFSCHelper.getConfigOrDefault((di=_w._sydConvConfig)===null||di===void 0?void 0:di.enableSydCarouselHistory,!1),sf=SydFSCHelper.getConfigOrDefault((fr=_w._sydConvConfig)===null||fr===void 0?void 0:fr.enableSQMsg,!0),ur=SydFSCHelper.getConfigOrDefault((fu=_w._sydConvConfig)===null||fu===void 0?void 0:fu.enableSemSerpNoCache,!1),or=SydFSCHelper.getConfigOrDefault((eu=_w._sydConvConfig)===null||eu===void 0?void 0:eu.enableSydStaticAdsLink,!1),ps=SydFSCHelper.getConfigOrDefault((su=_w._sydConvConfig)===null||su===void 0?void 0:su.hideSydReconnect,!1),ws=(cu=_w._sydConvConfig)===null||cu===void 0?void 0:cu.enableDlBing,bs=(au=_w._sydConvConfig)===null||au===void 0?void 0:au.disableSydGhosting,vh=SydFSCHelper.getConfigOrDefault((vu=_w._sydConvConfig)===null||vu===void 0?void 0:vu.disableCibNotificationStyleUpdate,!1),yh=_w._sydCachedString,ss=_w._sydAddOptionsSet,_G[SydFSCHelper.SYD_MODE]="serp",_G[SydFSCHelper.SYD_PREV_MODE]="",nr=SydFSCHelper.getConfigOrDefault((yu=_w._sydConvConfig)===null||yu===void 0?void 0:yu.keyboardNavigationSydney,!1),ni=SydFSCHelper.getConfigOrDefault((pu=_w._sydConvConfig)===null||pu===void 0?void 0:pu.disableTabletScroll,!1),ti=SydFSCHelper.getConfigOrDefault((wu=_w._sydConvConfig)===null||wu===void 0?void 0:wu.disableTouchDesktopScroll,!1),ii=SydFSCHelper.getConfigOrDefault((bu=_w._sydConvConfig)===null||bu===void 0?void 0:bu.disableDesktopScroll,!0),sr=SydFSCHelper.getConfigOrDefault((ku=_w._sydConvConfig)===null||ku===void 0?void 0:ku.enableChatScrollFix,!0),hr=SydFSCHelper.getConfigOrDefault((du=_w._sydConvConfig)===null||du===void 0?void 0:du.enableModalScrollFix,!0),ui=SydFSCHelper.getConfigOrDefault((gu=_w._sydConvConfig)===null||gu===void 0?void 0:gu.enableConvModeSwitchAjax,!1),vr=SydFSCHelper.getConfigOrDefault((nf=_w._sydConvConfig)===null||nf===void 0?void 0:nf.enableCssSplitConvModeOnClick,0),ut=SydFSCHelper.getConfigOrDefault((tf=_w._sydConvConfig)===null||tf===void 0?void 0:tf.chatBackgroundColorOverride,""),tu=SydFSCHelper.getConfigOrDefault((rf=_w._sydConvConfig)===null||rf===void 0?void 0:rf.chatBackgroundColorOverrideNoSerp,!1),pt=SydFSCHelper.getConfigOrDefault((uf=_w._sydConvConfig)===null||uf===void 0?void 0:uf.enableWelcomeScreenV2,!1),yt=SydFSCHelper.getConfigOrDefault((ff=_w._sydConvConfig)===null||ff===void 0?void 0:ff.enableWelcomeScreenV3,!1),pi=SydFSCHelper.getConfigOrDefault((lf=_w._sydConvConfig)===null||lf===void 0?void 0:lf.enableGptHomeScreen,!1),wi=SydFSCHelper.getConfigOrDefault((af=_w._sydConvConfig)===null||af===void 0?void 0:af.enableChatFRE,!1),yr=SydFSCHelper.getConfigOrDefault((yf=_w._sydConvConfig)===null||yf===void 0?void 0:yf.enable2TQueryConfigsOnSerpLoad,!1),pr=SydFSCHelper.getConfigOrDefault((wf=_w._sydConvConfig)===null||wf===void 0?void 0:wf.enableBackgroundFix,!0),wr=SydFSCHelper.getConfigOrDefault((bf=_w._sydConvConfig)===null||bf===void 0?void 0:bf.hideMuidUpsell,!1),br=SydFSCHelper.getConfigOrDefault((kf=_w._sydConvConfig)===null||kf===void 0?void 0:kf.enableSERPHideShowConv,!1),kr=SydFSCHelper.getConfigOrDefault((df=_w._sydConvConfig)===null||df===void 0?void 0:df.enableBceBcbToggle,!1),s=SydFSCHelper.getConfigOrDefault((gf=_w._sydConvConfig)===null||gf===void 0?void 0:gf.enableNotebookMode,!1),dr=SydFSCHelper.getConfigOrDefault((ne=_w._sydConvConfig)===null||ne===void 0?void 0:ne.enableNotebookScrollDown,!1),gr=SydFSCHelper.getConfigOrDefault((te=_w._sydConvConfig)===null||te===void 0?void 0:te.enableSydTestCache,!1),k=SydFSCHelper.getConfigOrDefault((ie=_w._sydConvConfig)===null||ie===void 0?void 0:ie.enableChatContAfterHeader,!0),nu=SydFSCHelper.getConfigOrDefault((re=_w._sydConvConfig)===null||re===void 0?void 0:re.enableSafeChatAnsStyle,!1),et=SydFSCHelper.getConfigOrDefault((ce=_w._sydConvConfig)===null||ce===void 0?void 0:ce.isCopilotChat,!1),h=SydFSCHelper.getConfigOrDefault((le=_w._sydConvConfig)===null||le===void 0?void 0:le.isNewBingChat,!1),ot=SydFSCHelper.getConfigOrDefault((ve=_w._sydConvConfig)===null||ve===void 0?void 0:ve.isUnionClient,!1),iu=SydFSCHelper.getConfigOrDefault((ye=_w._sydConvConfig)===null||ye===void 0?void 0:ye.isMobileHost,!1)&&(et||h||ot),ru=SydFSCHelper.getConfigOrDefault((be=_w._sydConvConfig)===null||be===void 0?void 0:be.enableFakeScrollTelemetry,!1),uu=SydFSCHelper.getConfigOrDefault((ke=_w._sydConvConfig)===null||ke===void 0?void 0:ke.enableBingChatPath,!1),ks=SydFSCHelper.getConfigOrDefault((de=_w._sydConvConfig)===null||de===void 0?void 0:de.isGptCreator,!1),ds=SydFSCHelper.getConfigOrDefault((ge=_w._sydConvConfig)===null||ge===void 0?void 0:ge.disableGptCreatorFileUploadOptionsSets,!1),gs=SydFSCHelper.getConfigOrDefault((no=_w._sydConvConfig)===null||no===void 0?void 0:no.disableBotGreeting,!1),fi=SydFSCHelper.getConfigOrDefault((to=_w._sydConvConfig)===null||to===void 0?void 0:to.enableSydneyTranslationAsync,!1),hf=SydFSCHelper.getConfigOrDefault((io=_w._sydConvConfig)===null||io===void 0?void 0:io.enableRequestTranslationLater,!1),nh=SydFSCHelper.getConfigOrDefault((ro=_w._sydConvConfig)===null||ro===void 0?void 0:ro.enableTierLoadBalancing,!0),th=SydFSCHelper.getConfigOrDefault((uo=_w._sydConvConfig)===null||uo===void 0?void 0:uo.enableSimplifiedFRE,!1),ih=SydFSCHelper.getConfigOrDefault((fo=_w._sydConvConfig)===null||fo===void 0?void 0:fo.enableLoadConvTheme,!1),rh=SydFSCHelper.getConfigOrDefault((eo=_w._sydConvConfig)===null||eo===void 0?void 0:eo.isBingUserSignedIn,!1),uh=SydFSCHelper.getConfigOrDefault((oo=_w._sydConvConfig)===null||oo===void 0?void 0:oo.disableTierLoadBalancingCall,!0),g=_d.createElement("slot"),g.setAttribute("name","firstAnswer"),g.setAttribute("slot","firstAns"),nt=_d.createElement("slot"),nt.setAttribute("name","firstAns"),o=((so=_d.getElementsByClassName("b_top"))===null||so===void 0?void 0:so.length)>0?_d.getElementsByClassName("b_top")[0]:null,vt=!o?!1:o.getElementsByClassName("b_wpt_ch").length>0||o.getElementsByClassName("qna-sydney").length>0,cf(),(et||ot)&&vf(),r=_d.createElement("div"),r===null||r===void 0?void 0:r.setAttribute("slot","firstAnswer"),r===null||r===void 0?void 0:r.setAttribute("id","sydFirstAnswer"),r.style.maxWidth="648px",!(!uh&&nh))?[3,2]:[4,SydFSCHelper.setConfigs(f)];case 1:return ph.sent(),[3,3];case 2:SydFSCHelper.setConfigs(f);ph.label=3;case 3:if(SydFSCHelper.setEventListeners(),SydFSCHelper.setSydFSCEligibleState(!0),fi&&!kt&&SydFSCHelper.prefetchTranslationStrings(),es=SydFSCHelper.getConfigOrDefault((ho=_w._sydConvConfig)===null||ho===void 0?void 0:ho.isCompliantSydneyEndpointEnabled,!1),es&&(MsbSydneyHelper.setCompliantSydneyUrls(),CIB.responseTone=undefined),ks?(CIB.manager.chat.api.bing._endpoint=window.document.location.origin,CIB.setGptCreatorMode(),ei(i),CIB.config.sydney.request.optionsSets=["nlu_direct_response_filter","deepleo","enable_debug_commands","disable_emoji_spoken_text","responsible_ai_policy_235","enablemm","dv3sugg","autosave","iyxapbing","iycapbing","pluginval","eredirecturl","flux_phone_beta","clgalileo","flux_botbuilder_base",],ds&&CIB.config.fileupload&&(CIB.config.fileupload.extraOptionsSetV2=[])):et||ot?(es||(CIB.manager.chat.api.bing._endpoint=window.document.location.origin),ei(i)):h?ei(i):(t=CIB.insertAt(i),oi()),ft&&(_w&&_w.completeCIBInit&&typeof _w.completeCIBInit=="function"&&_w.completeCIBInit(),CIB.focusChatInputElement&&CIB.focusChatInputElement()),ou(),SydFSCHelper.setColorScheme(),os=SydFSCHelper.getConfigOrDefault((co=_w._sydConvConfig)===null||co===void 0?void 0:co.isBingChatForEnterprise,!1),hs=SydFSCHelper.getConfigOrDefault((lo=_w._sydConvConfig)===null||lo===void 0?void 0:lo.enableBCEDynamicPrompts,!1),fh=SydFSCHelper.getConfigOrDefault((ao=_w._sydConvConfig)===null||ao===void 0?void 0:ao.enableFreeSydney,!1),eh=os&&!hs&&typeof BceSydneyHelper!="undefined"?BceSydneyHelper.getSydneyWelcomeCards:undefined,oh=os&&hs&&typeof BceSydneyHelper!="undefined"?BceSydneyHelper.getFallBackTilesForBCE:undefined,sh=pi&&fh&&typeof GPTHomeScreen!="undefined",ut&&(tu?CIB.theme.addStyles("cib-background",CIB.theme.createStyles(':host([serp-slot="none"][product="bing"][background-type="gradient"]) { background: #'+ut+" !important;}")):CIB.theme.addStyles("cib-background",CIB.theme.createStyles(':host([product="bing"][background-type="gradient"]) { background: #'+ut+" !important;}"))),th?GPTHomeScreen===null||GPTHomeScreen===void 0?void 0:GPTHomeScreen.attachPersonaChangeEvents(t):yt?sh?GPTHomeScreen===null||GPTHomeScreen===void 0?void 0:GPTHomeScreen.attachPersonaChangeEvents(t):sj_evt.fire("cib_init",t):pt?sj_evt.bind("sydWelcomeScreen",function(){SydWelcomeScreen===null||SydWelcomeScreen===void 0?void 0:SydWelcomeScreen.setContent(t,eh,oh)},!0):wi&&(SydneyChatFRE===null||SydneyChatFRE===void 0?void 0:SydneyChatFRE.setContent(t)),hh=SydFSCHelper.getConfigOrDefault((vo=_w._sydConvConfig)===null||vo===void 0?void 0:vo.useAccountLinkingForConversationLimitUpsell,!1),hh&&(CIB.config.bing.signIn.query.action="acclink",CIB.config.bing.signIn.query.crea="MY04B",CIB.config.bing.signIn.query.pn="AccountLinking_Chat",CIB.config.bing.signIn.query.publ="BingIP"),ws&&CIB.config.sydney.request.optionsSets.push("dlbing"),ss&&CIB.config.sydney.request.optionsSets.push(ss),ir)SydFSCHelper.lastQuery=SydFSCHelper.getQuery().toLowerCase().trim();else{CIB.config.greeting.shouldSendBotGreeting=SydFSCHelper.shouldForceSendBotGreeting;ui||(sj_evt.bind("ajax.unload",function(){SydFSCHelper.shouldResetBotGreeting=!1}),sj_evt.bind("ajax.load",function(){SydFSCHelper.shouldResetBotGreeting=!0}));CIB.onConversationRequestStateChange(function(n){n||CIB.config.greeting.shouldSendBotGreeting||!SydFSCHelper.shouldResetBotGreeting||(CIB.config.greeting.shouldSendBotGreeting=!gs)})}return(ui&&sj_evt.bind("ajax.load",function(){_G[SydFSCHelper.SYD_MODE]="serp"}),ch=SydFSCHelper.getConfigOrDefault((yo=_w._sydConvConfig)===null||yo===void 0?void 0:yo.disResetTT,!0),ch&&(cs=(wo=(po=t===null||t===void 0?void 0:t.shadowRoot)===null||po===void 0?void 0:po.querySelector("cib-action-bar"))===null||wo===void 0?void 0:wo.shadowRoot,cs&&(rs=sj_ce("style"),rs.textContent="\n                    cib-tooltip {\n                        display: none !important;\n                    }\n                ",cs.appendChild(rs))),!(gr&&"SydneyTestHelper"in _w))?[3,5]:[4,SydneyTestHelper===null||SydneyTestHelper===void 0?void 0:SydneyTestHelper.setTestMocks()];case 4:ph.sent();ph.label=5;case 5:if(rr&&(lh=new URLSearchParams(_w.location.search),ls=lh.get("convid"),ls&&pe(ls)),es||os||!ih||!rh||(as=SydFSCHelper.getConfigOrDefault(_w.sessionStorage.getItem("CONV_ID"),""),as&&(CIB.loadConversationAsync(as),sessionStorage.removeItem("CONV_ID"))),is=(bo=_d.querySelector("cib-serp"))===null||bo===void 0?void 0:bo.shadowRoot,us=is===null||is===void 0?void 0:is.querySelector("cib-conversation"),us&&us.shadowRoot&&(y=us.shadowRoot.querySelector(".scroller"),rs=sj_ce("style"),ps&&(rs.textContent="\n                cib-notification-container {\n                    display: none;\n                }\n            "),us.shadowRoot.appendChild(rs)),bs&&(vs=(go=(ko=is===null||is===void 0?void 0:is.querySelector("cib-action-bar"))===null||ko===void 0?void 0:ko.shadowRoot)===null||go===void 0?void 0:go.querySelector(".autosuggest-text"),vs&&(vs.style.display="none")),ys="ontouchstart"in window||!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,ni&&Log.Log("ClientInst","Codex","TabletScrollDisabled"),ys&&Log.Log("ClientInst","Codex","TouchD"),ti&&Log.Log("ClientInst","Codex","TouchDesktopScrollDisabled"),a||ni||ys&&ti||u)u&&PanelTransition.init();else if(sj_be(_w,"mousewheel",ee),sj_be(_w,"touchstart",oe),sj_be(_w,"touchmove",se),sj_be(_w,"touchend",he),Log.Log("ClientInst","Codex","BindedScrollEvents"),sr&&(fs=(ns=_d.querySelector("cib-serp"))===null||ns===void 0?void 0:ns.shadowRoot.querySelector("cib-side-panel"),fs&&sj_be(fs,"mouseenter",ue),fs&&sj_be(fs,"mouseleave",fe)),hr&&CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){cr=n});SydFSCHelper.triggerShareFlow();hu();sj_evt.bind("ajax.load",hu);c&&(SydFSCHelper.setupHistory(),SydFSCHelper.checkInitialState());pf();a&&ae();SydFSCHelper.triggerClarity();CIB.onResetConversation(function(){SydFSCHelper.shouldMove1TAnswers(rt,p)&&lu()});CIB.onModeChanged(function(n){sj_evt.fire("onModeChanged",n)});if(CIB.onMobileUpsellPopupShown)CIB.onMobileUpsellPopupShown(function(){var n={convId:CIB.manager.conversation.id,responseTone:CIB.responseTone};SydFSCHelper.SydLog("SystemEvent","MobileUpsell","MobileUpsellPopupShown",n);SydFSCHelper.createRequest("sydchat/writeConvInfo",JSON.stringify(n))});return ah=((ts=_w.BingChatCustomGreetingString)===null||ts===void 0?void 0:ts.length)>0,lr&&!ah&&SydFSCHelper.processCachedResponseUsingCIB(JSON.parse(ar)),pr&&SydFSCHelper.updateChatBackgroundWidth(),wr&&SydFSCHelper.hideSignInUpsellFor3P(),iu&&SydFSCHelper.hideTopFade(),we(),typeof SydneyTruncateIdName!="undefined"&&SydneyTruncateIdName.initTruncateIdName&&SydneyTruncateIdName.initTruncateIdName(),[2]}})})}function ou(){var n,i=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableCopilotChatIdentityDisplay,!1),t;i&&(t=_ge("id_l"),t&&(t.style.display="inline-block"))}function cf(){var n,t;k=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableChatContAfterHeader,!0);i=_ge(ci);k?i&&Lib.CssClass.add(sj_b,du):(t=_ge(u?"b_header_outer":"b_header"),i&&t&&sj_b.insertBefore(i,t))}function lf(){l||a||(_w.scrollY>0&&_w.scrollTo(0,0),_d.documentElement&&!u&&(Lib.CssClass.add(_d.documentElement,"b_disOvflw"),Lib.CssClass.remove(_d.documentElement,"b_delayOvflw")))}function af(){yt?sj_evt.fire("renderWsSlot",t):pt&&(SydWelcomeScreen===null||SydWelcomeScreen===void 0?void 0:SydWelcomeScreen.addWelcomeContainerChildSlot(t))}function vf(){var n=_ge("sydneyPayWall");n&&ft&&(n.style.display="none")}function yf(){var n=_ge("b_content");sb_st(function(){n&&Lib.CssClass.contains(n,"b_showconv")&&Lib.CssClass.remove(n,"b_showconv")},0)}function su(){var i=_ge("b-scopeListItem-web"),t,n;i&&_d&&(t="\n                .b_scopebar #b-scopeListItem-web {\n                    visibility: visible;\n                }\n\n                body:not(.b_notebookMode) #b-scopeListItem-conv::after {\n                    opacity: 0;\n                }\n\n                .b_notebookMode nav.b_scopebar li.b_active#b-scopeListItem-notebook::after {\n                    opacity: 0;\n                }\n            ",n=_d.createElement("style"),n.setAttribute("type","text/css"),_d.head.appendChild(n),n.innerHTML=t);sj_evt.unbind("ajaxReady",su)}function ei(n){var i=sj_ce("div");t=CIB.insertAt(i);oi();CIB.showConversation();n.appendChild(t);u&&sj_evt.fire("showSydFSC")}function hu(){sj_evt.bind("hideSydFSC",function(n){var g,nt,ut,h,ft,i,tt,r,y,it,f,e,t,o,d;if(!bt){if(bt=!0,Log.Log("ClientInst","Codex","LeaveConversationMode"),l||(Lib.CssClass.remove(sj_b,v),ut=_ge("tallhead"),ut&&(fu?_w.scrollTo(0,0):_w.scrollBy(0,48))),k&&sb_rst(function(){if(!Lib.CssClass.contains(sj_b,v)){var n=_ge("b_header"),t=_d.querySelector(".b_scopebar");t&&(n===null||n===void 0?void 0:n.insertBefore(t,ki))}},u?0:1e3),h=_ge("sb_form"),h&&Lib.CssClass.contains(h,"hassbi")&&Lib.CssClass.remove(h,"hassbi"),ft=n&&n.length>2?n[2]:!1,!ft&&u&&PanelTransition.transitionDirectToSerp(),CIB.hideConversation(),l||a||(u||Lib.CssClass.add(_d.documentElement,"b_delayOvflw"),SydFSCHelper.shouldMove1TAnswers(rt,p)&&lu(),i=_ge("b-scopeListItem-web"),tt=_d.getElementById("id_flight_banner"),tt&&(tt.style.display="none"),i&&i.children.length>0&&(i.children[0].setAttribute("aria-current","page"),Lib.CssClass.add(i,"b_active"),((g=_G===null||_G===void 0?void 0:_G.EF)===null||g===void 0?void 0:g.chatskip2content)===1||((nt=_ge("b_skip_to_content"))===null||nt===void 0?void 0:nt.setAttribute("tabindex","0"))),r=_ge("b-scopeListItem-conv"),r&&r.children.length>0&&(r.children[0].setAttribute("aria-current","false"),Lib.CssClass.remove(r,"b_active")),y=_ge("b_phead_chat"),y&&Lib.CssClass.contains(y,"b_active")&&Lib.CssClass.remove(y,"b_active")),_G[SydFSCHelper.SYD_PREV_MODE]!=_G[SydFSCHelper.SYD_MODE]&&(_G[SydFSCHelper.SYD_PREV_MODE]=_G[SydFSCHelper.SYD_MODE],c&&(it=n&&n.length>1?n[1]:!1,it&&SydFSCHelper.LogIntEvent("ConversationViewExit","Conversation",{source:"BackButton"}),it||SydFSCHelper.pushSydHistory(!1))),!c&&at&&SydFSCHelper.updateConvFlagInURL(!1),SydFSCHelper.updateConvPageTitle(!1),_G[SydFSCHelper.SYD_MODE]="serp",dt){if(f=_ge("b_pole"),!f){for(f=sj_ce("div","b_pole"),e=_d.querySelector("main"),t=_ge("b_results");t&&e&&t.parentElement!=e;)t=t.parentElement;e&&t&&e.insertBefore(f,t)}SydFSCHelper.addCarousel(f)}else if(gi&&(o=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),o&&o.length>0)){var w=o[o.length-1].text.split("`"),b=w.length==1?w[0]:w.length==3?w[1]:"",et=_ge("sb_form_go"),ot=_ge("sb_form_q");_w.sj_isAjax&&b&&ot.value.toLowerCase()!=b.toLowerCase()&&et&&(ot.value=b,SydFSCHelper.lastQuery=b,et.click())}s&&sj_evt.fire("switchToWeb");sj_ue(_w,"beforeprint",vu);sj_ue(_w,"afterprint",yu);d=_ge("b_content");d&&Lib.CssClass.contains(d,"b_hide")&&Lib.CssClass.remove(d,"b_hide");wu(!1);bt=!1}});sb_st(function(){nu||(sj_evt.bind("showSydFSC",ie,!0),s&&sj_evt.bind("showNotebook",function(n){var i,r,u,f,o,e;sj_evt.fire("switchToNotebook");SydFSCHelper.addNotebookFlagInURL();SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSetNotebookAlignment,!0)&&t.setAttribute("alignment","left");f=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableLoopNotebook,!1);SydFSCHelper.LogIntEvent("showNotebookFired","Notebook",{source:"ShowNotebook",loop:f});f?sj_evt.fire("setupNotebookLoop"):SydFSCHelper.setNotebookOptions();o=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.disableShareLinkShowntbk,!1);o||(e=n&&n.length>1?n[1]:"",e&&CIB.loadSharedConversation(e))},!0))},0);br&&sj_evt.bind("sydFSCLoaded",yf,!0);h&&sj_evt.bind("ajaxReady",su,!0);sj_evt.bind("onModeChanged",function(n){setTimeout(function(){var t,i,r,u,f,e,o,h,c;s&&_G[SydFSCHelper.SYD_PREV_MODE]==="notebook"&&n[1]!=="notebook"&&(SydFSCHelper.setDefaultOptions(),CIB.config.features.enableNotebookPrefilledQuery&&(h=(e=(f=(u=(r=(i=(t=_d.querySelector("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-action-bar"))===null||r===void 0?void 0:r.shadowRoot)===null||u===void 0?void 0:u.querySelector(".input-container").querySelector("cib-text-input"))===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.querySelector("label"),h.setAttribute("data-suggestion",""),c=h.querySelector(".autosuggest"),c.setAttribute("hidden",""),c.querySelector(".append").innerHTML=""),af(),SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableSetNotebookAlignment,!0)&&oi())},0)});sj_evt.fire("convInit:done")}function oi(){var n,i,r,u,f,e,h=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isCopilotChat,!1),c=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableThreads,!1),o=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableChatCenterAlign,!0),l=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isUnionClient,!1),s=(h||l)&&!c||o;t.setAttribute("alignment",s?"center":"left");s&&CIB&&((f=CIB.vm)===null||f===void 0?void 0:f.alignment)&&(CIB.vm.alignment="center");o&&((e=t===null||t===void 0?void 0:t.style)===null||e===void 0?void 0:e.setProperty("--cib-comp-conversation-max-width","840px"))}function cu(){var t;o=((t=_d.getElementsByClassName("b_top"))===null||t===void 0?void 0:t.length)>0?_d.getElementsByClassName("b_top")[0]:null;yi=sj_b.querySelector("#b_sydTigerCont")!=null;vt=!!o&&o.querySelector("#sydwrap_wrapper")!=null;n.moveOnlySydXAnswers&&(f=sj_b.querySelector("#sydwrap_wrapper #b_syd_sm_chat .b_wpt_chat"),f&&(Lib.CssClass.add(f,bi),fr=f.querySelector(".b_wpt_creator_content")!=null))}function pf(){var n=_ge("id_hbfo");sj_be(n,"click",function(n){var r=n.target,t,i;_G[SydFSCHelper.SYD_MODE]=="conversation"&&r&&(t=wf(r),t&&t.target!="_blank"&&(i="",t.href.indexOf("/profile/")>=0?i="profile":t.href.indexOf("/account/")>=0&&(i="account"),SydFSCHelper.LogIntEvent("ConversationViewExit","Conversation",{source:"ClickMenu",target:i})))})}function wf(n){while(n!=null){if(n.tagName=="A"&&Lib.CssClass.contains(n,"hb_section"))return n;n=n.parentElement}return null}function si(n,t,i){i===void 0&&(i=!1);t&&n&&(i?n.prepend(t):n.appendChild(t))}function bf(n){var u,f,e,o,s,h;if(!li){si(_ge("b_sydtoporpole"),n);return}var l=_d.querySelector("cib-serp"),t=(f=(u=_d.querySelector("cib-serp"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector("cib-conversation"),i=(o=(e=t===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0?void 0:e.querySelector(".scroller"))===null||o===void 0?void 0:o.querySelector(".main cib-welcome-container"),c=(h=(s=t===null||t===void 0?void 0:t.shadowRoot)===null||s===void 0?void 0:s.querySelector(".scroller"))===null||h===void 0?void 0:h.querySelector(".main");t===null||t===void 0?void 0:t.appendChild(g);i?i===null||i===void 0?void 0:i.after(nt):c===null||c===void 0?void 0:c.prepend(nt);r===null||r===void 0?void 0:r.appendChild(n);vi;si(l,r);kf()}function kf(){df();gf()}function df(){var t=_d.querySelector("#sydFirstAnswer .b_wpt_chat"),n=_d.querySelector("#sydFirstAnswer .b_wpt_chat .b_wpt_chat_inner");t&&n&&(t.querySelector("b_wpt_chat_inner > .b_sideBleed")&&(n.style.padding="0 20px 5px 20px"),t.querySelector(".b_wpt_chat_inner > .wtr_core.b_sideBleed, .b_wpt_chat_inner > .b_sideBleed #lMapContainer, .b_wpt_chat_inner > .ji_container, .b_wpt_chat_inner > .b_sideBleed #placeAnswer, .b_wpt_chat_inner > .b_sideBleed .ckt_main, .b_wpt_chat_inner > .b_sideBleed .mit_ans, .b_wpt_chat_inner > .jobsAnswerContainer, .b_wpt_chat_inner > div .sa_main")&&(n.style.padding="unset"),n.querySelector(".b_wpt_creator")&&(n.style.padding="0px"),n.querySelector(".b_wpt_insights")&&(n.style.paddingTop="0px",n.style.paddingBottom="0px"))}function gf(){var n=_d.querySelector("#sydFirstAnswer .b_wpt_chat");n&&n.querySelector(".b_wpt_creator")&&(n.style.boxShadow="unset")}function ne(){if(cu(),n.moveOnlySydXAnswers){if(!f||er&&fr)return;(p||vt&&!yi)&&sb_st(function(){bf(f)},rf)}}function lu(){if(n.moveOnlySydXAnswers){if(!f)return;var t=sj_b.querySelector("#sydwrap_wrapper #b_syd_sm_chat");t&&!t.contains(f)&&f&&(Lib.CssClass.remove(f,bi),si(t,f,!0))}}function au(){var n=new URLSearchParams(_w.location.search),t=n.get("sendquery");return t==="1"}function te(){var n=_ge("conv-css-link");n&&!n.classList.contains("css-conv-added")&&(n.setAttribute("rel","stylesheet"),n.setAttribute("class","css-conv-added"))}function ie(n){var t,r,f,e,o,h,y,w,b,d,g,nt,tt,it,ut,ft;return __awaiter(this,void 0,void 0,function(){var bt,gt,pi,wi,bi,di,gi,tr,ir,rr,ui,et,ei,fr,ot,er,or,vt,ni,oi,sr,ti,hr,st,cr,ii,lr,si,ar,hi,yt,ct,pt,ri,ci,lt,li,vi,yi;return __generator(this,function(pr){switch(pr.label){case 0:return(bt=!1,SydFSCHelper.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableshowSydFSCThrottle,!1)&&_G[SydFSCHelper.SYD_MODE]==="conversation")?(gt=n&&n.length>1?n[1]:null,pi=n&&n.length>2?n[2]:null,wi=n&&n.length>3?n[3]&&n[3]!=="":!1,bi=n&&n.length>5?n[5]:null,di=n&&n.length>7?n[7]:!1,gi=n&&n.length>8?n[8]:!1,tr=n&&n.length>9?n[9]:!1,SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableAlwaysSendMsg,!1)&&tr&&gt&&(bt=SydFSCHelper.sendFirstQuery(gi?gt.trim():gt.toLowerCase().trim(),pi,bi,di||au(),wi)),[2]):wt?[2]:(wt=!0,!(fi&&!kt))?[3,2]:[4,SydFSCHelper.setConvTranslationAsync()];case 1:ir=pr.sent();kt=ir;pr.label=2;case 2:return SydFSCHelper.updateResponseToneAfterSerp(),rr=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.disableAllChatAds,!1),CIB.config.features.enableAds=!rr,ur&&(ui=CIB.config.sydney.request.optionsSets.indexOf("nocacheread"),ui>=0&&CIB.config.sydney.request.optionsSets.splice(ui,1)),vr&&te(),_w.scrollY==0&&(fu=!0),et=_ge("b_header"),ei=!1,et&&ht&&Lib.CssClass.contains(et,ht)&&(Lib.CssClass.remove(et,ht),SydFSCHelper.getConfigOrDefault((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableShareLinkTrackLog,!1)?(ot=new URLSearchParams(window.location.search),fr=!!ot.get("shareId")&&!!ot.get("shid"),SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:fr?"ShareLink":"ShowConv"})):SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ShowConv"}),s&&(ot=new URLSearchParams(window.location.search),er=SydFSCHelper.getConfigOrDefault((o=_w._sydConvConfig)===null||o===void 0?void 0:o.disableShareLinkShowntbk,!1),or=!!ot.get("shareId"),ei=er&&or?!1:ot.get("showntbk")==="1")),et&&!Lib.CssClass.contains(et,"b_bcbSwitch")&&kr&&Lib.CssClass.add(et,"b_bcbSwitch"),dt&&SydFSCHelper.removeQueries(),vt=n&&n.length>1?n[1]:null,ni=n&&n.length>2?n[2]:null,p=n&&n.length>3?n[3]==tf:!1,oi=n&&n.length>3?n[3]&&n[3]!=="":!1,sr=n&&n.length>3?(h=n[3])!==null&&h!==void 0?h:"":"",ti=n&&n.length>5?n[5]:null,hr=n&&n.length>6?n[6]:!1,st=n&&n.length>7?n[7]:!1,cr=n&&n.length>8?n[8]:!1,ii=n&&n.length>10?n[10]:!0,lr=(n&&n.length>11?n[11]:!1)||u&&Lib.CssClass.contains(sj_b,gu),lf(),l||(Lib.CssClass.add(sj_b,v),k&&sb_st(function(){if(Lib.CssClass.contains(sj_b,v)){var t=_ge("id_h"),n=_d.querySelector(".b_scopebar");ki=n&&n.nextSibling;t&&n&&(et===null||et===void 0?void 0:et.insertBefore(n,t))}},1e3)),SydFSCHelper.shouldMove1TAnswers(rt,p,vt)&&ne(),vt&&(si=SydFSCHelper.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSendQueryTextMessage,!0),ar=SydFSCHelper.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.isCopilotQueryIntentional,!1),hi=au(),ii=ii&&!(hi&&si&&!ar),st=st||hi&&!si,bt=SydFSCHelper.sendFirstQuery(cr?vt.trim():vt.toLowerCase().trim(),ni,ti,st,oi,ii),oi&&SydFSCHelper.LogIntEvent("EnteredToChatFromSerpChips",sr,"")),!lr&&u&&PanelTransition.transitionDirectToCopilot(),CIB.showConversation(),hr&&(yt=[],ti&&yt.push({author:"user",text:ti}),ni&&yt.push({author:"bot",text:ni}),ai&&yt.length!=0&&CIB.registerContext(yt),CIB.toggleSpeechEnabled(),CIB.triggerMic()),l||a||(ct=_ge("b-scopeListItem-web"),ct&&ct.children.length>0&&ct.parentElement&&(ct.children[0].setAttribute("aria-current","false"),Lib.CssClass.remove(ct,"b_active")),pt=_ge("b-scopeListItem-conv"),ri=_ge("b_bceBcbToggle"),ci=ri===null||ri===void 0?void 0:ri.querySelector(".selected"),pt&&pt.children.length>0&&(pt.children[0].setAttribute("aria-current","page"),Lib.CssClass.add(pt,"b_active"),((b=_G===null||_G===void 0?void 0:_G.EF)===null||b===void 0?void 0:b.chatskip2content)===1||((d=_ge("b_skip_to_content"))===null||d===void 0?void 0:d.setAttribute("tabindex","-1")),ci&&st&&ci.focus(),nr&&(lt=_d.querySelector(".b_sydConvMode"),li=lt&&((ft=(ut=(it=(tt=(nt=(g=lt===null||lt===void 0?void 0:lt.querySelector("cib-serp"))===null||g===void 0?void 0:g.shadowRoot)===null||nt===void 0?void 0:nt.querySelector("cib-action-bar"))===null||tt===void 0?void 0:tt.shadowRoot)===null||it===void 0?void 0:it.querySelector(".input-container").querySelector("cib-text-input"))===null||ut===void 0?void 0:ut.shadowRoot)===null||ft===void 0?void 0:ft.querySelector("textarea")),vi=_d.documentElement,lt&&li&&!st&&li.focus(),vi&&i&&et&&sj_be(vi,"keydown",function(n){Log&&Log.Log("Info","Accessibility","KeyboardNavigationSydney");(n.code=="Tab"||n.keyCode==9||n.key=="Tab")&&(i.contains(n.target||n.srcElement)||et.contains(n.target||n.srcElement)||(i.tabIndex=0,i.focus()))})))),_G[SydFSCHelper.SYD_PREV_MODE]!=_G[SydFSCHelper.SYD_MODE]&&(_G[SydFSCHelper.SYD_PREV_MODE]=_G[SydFSCHelper.SYD_MODE],c&&(yi=n&&n.length>4?n[4]:!1,yi&&SydFSCHelper.LogIntEvent("ConversationViewEnter","Conversation",{source:"BackButton"}),yi||SydFSCHelper.pushSydHistory(!0))),!c&&at&&SydFSCHelper.updateConvFlagInURL(!0),SydFSCHelper.updateConvPageTitle(!0),yr||re(),_G[SydFSCHelper.SYD_MODE]="conversation",!bt&&CIB.config.features.enablePartnerVisualSearchUpload&&SydFSCHelper.submitVisualSearchImage(),ei&&sj_evt.fire("switchToNotebook"),sj_be(_w,"beforeprint",vu),sj_be(_w,"afterprint",yu),wu(!0),wt=!1,[2]}})})}function re(){var n=ClientObserver.getBrowserWidth(),t=ClientObserver.getBrowserHeight();SydFSCHelper.set2TQueryConfigs(n,t,or)}function ue(){ri=!0}function fe(){ri=!1}function ee(n){var t=0;n||(n=window.event);n.wheelDelta?t=n.wheelDelta/60:n.detail&&(t=-n.detail/2);pu(t,d)}function oe(n){gt=n.changedTouches[0].clientY;b=n.touches&&n.touches.length>1?!0:!1}function se(n){var t=n.changedTouches[0].clientY-gt;pu(t,nf,!0)}function he(n){e=0;tt=!1;it=!1;gt=0;b=n.touches&&n.touches.length!==0}function vu(){var n=_ge("b_content");n&&Lib.CssClass.add(_ge("b_content"),"b_hide")}function yu(){var n=_ge("b_content");n&&Lib.CssClass.remove(n,"b_hide")}function pu(n,t,i){var u,f,o,c,y,r,a,p;if(i===void 0&&(i=!1),Log.Log("ClientInst","Codex","CheckScrollCalled"),!ri&&!cr){if(sb_ct(di),tt||(w=Lib.CssClass.contains(sj_b,v),it=w?le():_w.scrollY==0),tt=!0,it&&(e+=n),i||(di=sb_st(function(){e=0;tt=!1;it=!1},150)),y=!w&&e>ct&&_G[SydFSCHelper.SYD_MODE]!="conversation"&&!b,r=lt&&w&&e<-1*ct&&_G[SydFSCHelper.SYD_MODE]=="conversation"&&!b,s&&!r){var k=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableNotebookInputBoxScroll,!0),l=(o=(f=_d.querySelector("cib-serp"))===null||f===void 0?void 0:f.shadowRoot)===null||o===void 0?void 0:o.querySelector("cib-action-bar"),d=k&&((c=l===null||l===void 0?void 0:l.shadowRoot)===null||c===void 0?void 0:c.querySelector(".root").hasAttribute("focus"));r=lt&&w&&e<-1*ct&&_G[SydFSCHelper.SYD_MODE]=="notebook"&&!b&&!d}y?(Log.Log("ClientInst","Codex","ScrollToChat"),!ii&&e>t&&(ru?SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ChatBubble"}):SydFSCHelper.LogIntEvent("ConversationViewEnter","Scope",{source:"ScrollUp"}),SydFSCHelper.triggerSydFSCQueryWithContext("","",!1))):r&&(Log.Log("ClientInst","Codex","ScrollOutChat"),a=s&&_G[SydFSCHelper.SYD_MODE]==="notebook",p=!a||a&&dr,!ii&&p&&e<-1*t&&(h&&!ce()?sj_evt.bind("ajaxReady",hi,!0):hi()))}}function ce(){var n=_ge(uf);return n&&!Lib.CssClass.contains(n,ff)}function hi(){h&&SydFSCHelper.isCookieBannerVisibileOnChatPage()||(SydFSCHelper.LogIntEvent("ConversationViewExit","Scope",{source:"ScrollDown",target:_G[SydFSCHelper.SYD_PREV_MODE]}),sj_evt.fire("hideSydFSC"),sb_st(function(){_w.scrollTo(0,0)},1),(h||uu)&&sj_evt.unbind("ajaxReady",hi))}function le(){return!y?!1:Math.abs(y.scrollTop-(y.scrollHeight-y.offsetHeight))<1}function ae(){var t,i,r,e=_ge("b_sydOvrClose"),n,u,f;e&&sj_be(e,"click",function(){sj_evt.fire("hideSydFSC")});n=(r=(i=(t=_d.querySelector("#b_sydConvCont cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-action-bar"))===null||r===void 0?void 0:r.shadowRoot;u=n===null||n===void 0?void 0:n.querySelector(".outside-left-container");u&&(u.style.display="none");tr&&n&&(f=sj_ce("style"),f.textContent="\n                .control.microphone {\n                    display: none;\n                }\n            ",n.appendChild(f))}function ve(n){var i,r,t=_ge("id_rfob");n&&((i=t===null||t===void 0?void 0:t.style)===null||i===void 0?void 0:i.display)?t.style.display="none":undefined;!n&&((r=t===null||t===void 0?void 0:t.style)===null||r===void 0?void 0:r.display)?t.style.display="inline-flex":undefined}function wu(n){var t,i,r=SydFSCHelper.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.isCompliantSydneyEndpointEnabled,!1),u=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isBingChatForEnterprise,!1);(r||u)&&ve(n)}function ye(n,t){var i,r,u,f,e;n===void 0&&(n=null);t===void 0&&(t=d);e=(i=_w._sydPayWallConfig)===null||i===void 0?void 0:i.loadSydneyConvResWithPayWall;e?sj_evt.bind("waitlistUpdate:eligible",function(){return bu(null,t)},!0):bu(n,t);var o=SydFSCHelper.getConfigOrDefault((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCopilotChatIdentityOnAnySignin,!1),s=SydFSCHelper.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isAADAuthenticated,!1),h=SydFSCHelper.getConfigOrDefault((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isMSAAuthenticated,!1);o&&(s||h)&&ou()}function bu(n,t){var i;n===void 0&&(n=null);t===void 0&&(t=d);ft=SydFSCHelper.getConfigOrDefault((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCIBBootstrapper,!1);ft?SydneyBootstrapper&&SydneyBootstrapper.bindToCIBInit(function(){return eu(n)}):void eu(n);d=t}function pe(n){CIB.loadConversation(n);SydFSCHelper.lastQuery=SydFSCHelper.getQuery().toLowerCase().trim()}function we(){var c=this,i,r,u,f,e=(i=_w._sydConvConfig)===null||i===void 0?void 0:i.pluginDevToolsDfpSessionId,o,s,h,t,n;e&&(o=(r=_w._sydConvConfig)===null||r===void 0?void 0:r.pluginDevToolsDfpOrganizationId,o&&(t=new URL("https://vlscppe.microsoft.com/fp/tags.js"),t.searchParams.append("org_id",o),t.searchParams.append("session_id",e),n=document.createElement("script"),n.type="text/javascript",n.src=t.toString(),n.async=!0,document.head.appendChild(n)),s=(u=_w._sydConvConfig)===null||u===void 0?void 0:u.pluginDevToolsDfpInstanceId,h=(f=_w._sydConvConfig)===null||f===void 0?void 0:f.pluginDevToolsDfpPageId,s&&h&&(t=new URL("https://ov-df.microsoft.com/mdt.js"),t.searchParams.append("session_id",e),t.searchParams.append("instanceId",s),t.searchParams.append("pageid",h),n=document.createElement("script"),n.type="text/javascript",n.src=t.toString(),n.async=!0,n.onload=function(){window.dfp.doFpt(c.document)},document.head.appendChild(n)))}var st,v="b_sydConvMode",ht="b_sydShowConv",ci="b_sydConvCont",du="b_ctf",gu="is-copilot",d=10,ct=10,nf=100,li,lt,u,ai,c,at,vi=!1,o,vt,f=null,yi=!1,t,yt,pi,pt,wi,y,r,g,nt,tf="SYDX_WRAPPER",p=!1,bi="b_sydxwrappedanswer",rf=1e3,wt=!1,bt=!1,kt=!1,ki=null,uf="b_content",ff="noSecondChunk",e=0,di,tt=!1,it=!1,w=!1,ef=!1,rt=!1,gi=!1,dt=!1,l=!1,a=!1,nr=!1,gt,ku;n.moveOnlySydXAnswers=!1;var tr=!1,ir=!1,rr=!1,sf=!1,ur=!1,fr=!1,er=!1,or=!1,ni=!1,ti=!1,ii=!1,sr=!1,ri=!1,hr=!1,cr=!1,ui=!1,lr=!1,ar="",b=!1,vr,yr=!1,pr=!1,wr=!1,br=!1,kr=!1,s=!1,dr=!1,gr=!1,k=!1,nu=!1,ut="",tu=!1,iu=!1,ru=!1,h=!1,uu=!1,fu=!1,fi=!1,hf=!1,ft=!1,et=!1,i,ot=!1;(typeof sj_b=="undefined"||sj_b==null)&&(window.sj_b=document.body);n.init1TAnswerContents=cu;n.initWithWaitlistUpdate=ye;ku=SydFSCHelper.getConfigOrDefault((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableSuperBowlWelcomescreenTest,!1);ku&&typeof WelcomeScreenLoader!="undefined"&&WelcomeScreenLoader.loadWelcomeScreen();sj_evt.fire("sydFSC.init")})(SydneyFullScreenConv||(SydneyFullScreenConv={}))