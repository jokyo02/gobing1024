(function(){function t(){function i(){var i=t.current();i!==n.value&&(n.value.length-i.length>1||n.value.length-i.length<-1||n.value.length-i.length==0?t.record(n.value,!0):t.record(n.value))}function r(i){i.ctrlKey&&(i.key==="y"?t.redo(!0)!==undefined&&(n.value=t.redo()):i.key==="z"&&t.undo(!0)!==undefined&&(n.value=t.undo()))}var t=new SearchBoxUndoRedo.UndoRedoManager(1,n.value);setTimeout(function(){t.record(n.value,!0)},0);sj_be(n,"input",i);sj_be(n,"keydown",r);sj_be(_w,"unload",function(){sj_ue(n,"input",i);sj_ue(n,"keydown",r)})}var n=_ge("sb_form_q");n&&t()})()