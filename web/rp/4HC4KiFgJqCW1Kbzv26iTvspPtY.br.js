var CaptionClickable;(function(){function t(){for(var i,r=document.querySelectorAll(".b_caption"),u=document.querySelectorAll(".b_imgcap_altitle"),t=0;t<r.length;t++)i=r[t],i&&n(i,!1);for(t=0;t<u.length;t++)i=u[t],i&&n(i,!0)}function i(n){return n.contains("b_lineclamp2")||n.contains("b_lineclamp3")||n.contains("b_lineclamp4")||n.contains("b_lineclamp5")||n.contains("b_lineclamp1")}function n(n,t){var r=n.previousElementSibling,e,o,s,f,c,u,h;if(r&&(e=null,r.tagName==="H2"||r.querySelector("h2")?(o=r.tagName==="H2"?r:r.querySelector("h2"),o&&o.querySelector("a")&&(e=o)):r.tagName==="H3"||r.querySelector("h3")?(s=r.tagName==="H3"?r:r.querySelector("h3"),s&&s.querySelector("a")&&(e=s)):e=n.querySelector("h2, h3"),f=n.querySelector("p"),c=t||n.children.length==1,e&&f&&i(f.classList)&&(u=e.querySelector("a"),u))){if(f.addEventListener("mouseover",function(){u&&(u.style.textDecoration="underline",n.style.cursor="pointer")}),f.addEventListener("mouseout",function(){u&&(u.style.textDecoration="",n.style.cursor="")}),h=f.parentElement,h&&h.tagName==="A")return;c&&(_w.sj_log&&sj_log("CI.CaptionClickableAll","CaptionClickableAll","Shown"),n.addEventListener("click",function(n){var t=n.target;u&&t&&t.classList&&!t.classList.contains("inner")&&t.tagName!=="H2"&&_w.sj_log&&sj_log("CI.CaptionClickableAll","ClickAll","Click")}));f.addEventListener("click",function(){if(u){_w.si_T&&_w.si_T(u.getAttribute("h"));var n=window.getSelection();(n===null||n===void 0?void 0:n.toString().length)===0&&(u.click(),_w.sj_log&&sj_log("CI.CaptionClickableAll","CaptionClick","Shown"))}})}}t()})(CaptionClickable||(CaptionClickable={}))